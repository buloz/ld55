[gd_scene load_steps=10 format=3 uid="uid://cb8lmdavcema"]

[ext_resource type="Script" path="res://Scenes/Entity/Mob/Mob.gd" id="1_3u8mo"]
[ext_resource type="PackedScene" uid="uid://qks2cmf75chg" path="res://Scenes/Component/NearestEnemyFinder.tscn" id="2_easnx"]
[ext_resource type="PackedScene" uid="uid://dm7wjxq1yhhha" path="res://Scenes/Component/healthComponent.tscn" id="3_50md8"]
[ext_resource type="PackedScene" uid="uid://deuhf0wkjf2jw" path="res://Scenes/Component/hitboxComponent.tscn" id="4_il1u3"]
[ext_resource type="Shader" path="res://Scenes/Entity/Mob/Mob.gdshader" id="5_eym8e"]
[ext_resource type="PackedScene" uid="uid://blc1sjka6ahc6" path="res://Scenes/Component/attackComponent.tscn" id="5_o00wj"]
[ext_resource type="PackedScene" uid="uid://b3w25xcfvrnug" path="res://Scenes/Animation/ShaderAnimation.tscn" id="7_oi6k7"]

[sub_resource type="CircleShape2D" id="CircleShape2D_itvn1"]
radius = 48.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wxl82"]
shader = ExtResource("5_eym8e")
shader_parameter/walkingAlpha = null
shader_parameter/xOrientation = null

[node name="Mob" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_3u8mo")
confortDistance = 10.0

[node name="NearestEnnemyFinder" parent="." instance=ExtResource("2_easnx")]

[node name="HealthComponent" parent="." instance=ExtResource("3_50md8")]
MaxHealth = 100.0

[node name="AttackComponent" parent="." instance=ExtResource("5_o00wj")]
attack_damage = 10.0
attack_cooldown = 1.0

[node name="HitBoxComponent" parent="." node_paths=PackedStringArray("healthComponent") instance=ExtResource("4_il1u3")]
collision_layer = 2
healthComponent = NodePath("../HealthComponent")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="HitBoxComponent"]
position = Vector2(-2, 7)
shape = SubResource("CircleShape2D_itvn1")

[node name="ShaderAnimation" parent="." node_paths=PackedStringArray("sprite") instance=ExtResource("7_oi6k7")]
randomStartOffset = true
sprite = NodePath("../Sprite2D")

[node name="Sprite2D" type="Sprite2D" parent="."]
z_as_relative = false
material = SubResource("ShaderMaterial_wxl82")
