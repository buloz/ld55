[gd_scene load_steps=16 format=3 uid="uid://cb8lmdavcema"]

[ext_resource type="Script" path="res://Scenes/Entity/Mob/Mob.gd" id="1_3u8mo"]
[ext_resource type="PackedScene" uid="uid://qks2cmf75chg" path="res://Scenes/Component/NearestEnemyFinder.tscn" id="2_easnx"]
[ext_resource type="PackedScene" uid="uid://dm7wjxq1yhhha" path="res://Scenes/Component/healthComponent.tscn" id="3_50md8"]
[ext_resource type="PackedScene" uid="uid://deuhf0wkjf2jw" path="res://Scenes/Component/hitboxComponent.tscn" id="4_il1u3"]
[ext_resource type="Shader" path="res://Scenes/Entity/Mob/Mob.gdshader" id="5_eym8e"]
[ext_resource type="PackedScene" uid="uid://blc1sjka6ahc6" path="res://Scenes/Component/attackComponent.tscn" id="5_o00wj"]
[ext_resource type="PackedScene" uid="uid://b3w25xcfvrnug" path="res://Scenes/Animation/ShaderAnimation.tscn" id="7_oi6k7"]
[ext_resource type="Texture2D" uid="uid://b2qy48p7n0uvq" path="res://Ressources/sprites/Mobs/Biche.png" id="8_dux1l"]
[ext_resource type="Texture2D" uid="uid://oplf7u8wkpol" path="res://Ressources/sprites/Mobs/Grenouille.png" id="9_0skbu"]
[ext_resource type="Texture2D" uid="uid://bcdtqudttuei0" path="res://Ressources/sprites/Mobs/Chat.png" id="10_b5ho4"]
[ext_resource type="Texture2D" uid="uid://baxsxn10y7i81" path="res://Ressources/sprites/Mobs/Lapin.png" id="11_gtaff"]
[ext_resource type="Texture2D" uid="uid://es3hfe74elaq" path="res://Ressources/sprites/Mobs/Vach.png" id="12_tqotu"]

[sub_resource type="CircleShape2D" id="CircleShape2D_itvn1"]
radius = 48.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qjnns"]
shader = ExtResource("5_eym8e")
shader_parameter/walkingAlpha = null
shader_parameter/xOrientation = null

[sub_resource type="SpriteFrames" id="SpriteFrames_k5p6w"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_dux1l")
}, {
"duration": 1.0,
"texture": ExtResource("9_0skbu")
}, {
"duration": 1.0,
"texture": ExtResource("10_b5ho4")
}, {
"duration": 1.0,
"texture": ExtResource("11_gtaff")
}, {
"duration": 1.0,
"texture": ExtResource("12_tqotu")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Mob" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_3u8mo")

[node name="NearestEnnemyFinder" parent="." instance=ExtResource("2_easnx")]

[node name="HealthComponent" parent="." instance=ExtResource("3_50md8")]
MaxHealth = 20.0

[node name="AttackComponent" parent="." instance=ExtResource("5_o00wj")]
attack_damage = 10.0
attack_cooldown = 0.5

[node name="HitBoxComponent" parent="." node_paths=PackedStringArray("healthComponent") instance=ExtResource("4_il1u3")]
collision_layer = 2
healthComponent = NodePath("../HealthComponent")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="HitBoxComponent"]
position = Vector2(-2, 7)
shape = SubResource("CircleShape2D_itvn1")

[node name="ShaderAnimation" parent="." instance=ExtResource("7_oi6k7")]
randomStartOffset = true

[node name="Sprite2D" type="AnimatedSprite2D" parent="ShaderAnimation"]
material = SubResource("ShaderMaterial_qjnns")
sprite_frames = SubResource("SpriteFrames_k5p6w")
